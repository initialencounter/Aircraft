import{_ as a,c as i,o as n,ae as s}from"./chunks/framework.Dh1jimFm.js";const t="/assets/everything_config.BpfD93vb.png",d=JSON.parse('{"title":"附件验证功能","description":"","frontmatter":{},"headers":[],"relativePath":"attachment.md","filePath":"attachment.md"}'),e={name:"attachment.md"};function r(o,l,p,h,c,u){return n(),i("div",null,l[0]||(l[0]=[s(`<h1 id="附件验证功能" tabindex="-1">附件验证功能 <a class="header-anchor" href="#附件验证功能" aria-label="Permalink to &quot;附件验证功能&quot;">​</a></h1><h2 id="功能介绍" tabindex="-1">功能介绍 <a class="header-anchor" href="#功能介绍" aria-label="Permalink to &quot;功能介绍&quot;">​</a></h2><p>v3.0.5 版本 Lims 插件已内置 <strong>WASM 附件解析引擎</strong>，可以直接在浏览器中解析和验证附件信息，无需安装额外的解析器软件。</p><p>附件验证功能主要包括：</p><ul><li>📄 <strong>概要文档解析</strong>：自动读取本地概要文件（.docx）和图片文件（.pdf），提取关键信息</li></ul><h2 id="工作原理" tabindex="-1">工作原理 <a class="header-anchor" href="#工作原理" aria-label="Permalink to &quot;工作原理&quot;">​</a></h2><h3 id="_1-wasm-解析引擎" tabindex="-1">1. WASM 解析引擎 <a class="header-anchor" href="#_1-wasm-解析引擎" aria-label="Permalink to &quot;1. WASM 解析引擎&quot;">​</a></h3><p>插件集成了基于 Rust 编译的 WebAssembly 模块，具有以下优势：</p><ul><li>✅ <strong>操作简单</strong>：所有模块都在浏览器中运行, 开箱即用</li><li>✅ <strong>高性能</strong>：接近原生速度的解析性能</li><li>✅ <strong>跨平台</strong>：支持所有主流浏览器和操作系统</li></ul><h3 id="_2-附件获取流程" tabindex="-1">2. 附件获取流程 <a class="header-anchor" href="#_2-附件获取流程" aria-label="Permalink to &quot;2. 附件获取流程&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户点击验证按钮</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>插件读取项目编号</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>通过 Everything HTTP 服务搜索本地图片概要</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>本地概要文件（.docx）和图片文件（.pdf）</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>WASM 引擎解析文件内容</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>提取关键数据（品名、型号、参数等）</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>与检验单数据对比</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>显示验证结果</span></span></code></pre></div><h2 id="前置条件" tabindex="-1">前置条件 <a class="header-anchor" href="#前置条件" aria-label="Permalink to &quot;前置条件&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">提示</p><p>插件版本需要 v3.0.5 或更高版本</p></div><h3 id="必需条件" tabindex="-1">必需条件 <a class="header-anchor" href="#必需条件" aria-label="Permalink to &quot;必需条件&quot;">​</a></h3><ol><li><strong>Everything 搜索工具</strong><ul><li>用于快速搜索本地文件</li><li>需要启用 HTTP 服务</li><li><a href="https://www.voidtools.com/zh-cn/" target="_blank" rel="noreferrer">下载 Everything</a></li></ul></li></ol><h3 id="可选条件" tabindex="-1">可选条件 <a class="header-anchor" href="#可选条件" aria-label="Permalink to &quot;可选条件&quot;">​</a></h3><ol start="2"><li><strong>标签识别功能</strong>（如需使用） <ul><li>需要在插件选项中启用</li><li>会自动加载 ONNX 模型</li><li>内存占用约增加 50MB</li></ul></li></ol><h2 id="配置步骤" tabindex="-1">配置步骤 <a class="header-anchor" href="#配置步骤" aria-label="Permalink to &quot;配置步骤&quot;">​</a></h2><h3 id="第一步-配置-everything-服务" tabindex="-1">第一步：配置 Everything 服务 <a class="header-anchor" href="#第一步-配置-everything-服务" aria-label="Permalink to &quot;第一步：配置 Everything 服务&quot;">​</a></h3><p>Everything 是一个免费的本地文件搜索工具，插件通过它来定位附件文件。</p><ol><li><p><strong>下载并安装 Everything</strong></p><ul><li>访问 <a href="https://www.voidtools.com/zh-cn/" target="_blank" rel="noreferrer">Everything 官网</a></li><li>下载并安装最新版本</li></ul></li><li><p><strong>启用 HTTP 服务</strong></p><ul><li>打开 Everything</li><li>点击菜单：<strong>工具</strong> → <strong>选项</strong></li><li>切换到 <strong>HTTP 服务器</strong> 选项卡</li><li>勾选 ☑️ <strong>启用 HTTP 服务器</strong></li><li>将端口设置为：<code>25456</code></li><li>点击 <strong>应用</strong> 和 <strong>确定</strong></li></ul></li></ol><p><img src="`+t+`" alt="Everything 配置"></p><ol start="3"><li><strong>保持 Everything 运行</strong><ul><li>Everything 需要在后台运行</li><li>可以设置开机自启动</li></ul></li></ol><div class="warning custom-block"><p class="custom-block-title">注意</p><p>端口号必须是 <code>25456</code>，这是插件默认配置的端口。如果修改端口，附件搜索功能将无法使用。</p></div><h3 id="第二步-启用插件附件验证功能-已经默认开启" tabindex="-1">第二步：启用插件附件验证功能 (已经默认开启) <a class="header-anchor" href="#第二步-启用插件附件验证功能-已经默认开启" aria-label="Permalink to &quot;第二步：启用插件附件验证功能 (已经默认开启)&quot;">​</a></h3><ol><li><p><strong>打开插件选项</strong></p><ul><li>右键点击浏览器工具栏的 Lims 插件图标</li><li>选择 <strong>选项</strong></li></ul></li><li><p><strong>启用基础验证</strong></p><ul><li>在 <strong>样品检验-主界面</strong> 部分</li><li>勾选 ☑️ <strong>表单验证</strong>（应该已经默认开启）</li></ul></li><li><p><strong>配置标签检查（可选）</strong></p><ul><li>勾选 ☑️ <strong>启用标签检查</strong>（自动识别）</li><li>或勾选 ☑️ <strong>启用手动标签检查</strong>（手动触发）</li><li>注意：标签检查会增加内存占用</li></ul></li></ol><h2 id="使用方法" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法" aria-label="Permalink to &quot;使用方法&quot;">​</a></h2><h3 id="基础附件验证" tabindex="-1">基础附件验证 <a class="header-anchor" href="#基础附件验证" aria-label="Permalink to &quot;基础附件验证&quot;">​</a></h3><ol><li><p><strong>打开检验单页面</strong></p><ul><li>在样品检验模块，打开任意检验单</li></ul></li><li><p><strong>点击验证按钮</strong></p><ul><li>在页面右上角（或提交按钮旁边，取决于配置）</li><li>点击 <strong>验证</strong> 按钮</li></ul></li><li><p><strong>自动流程</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>插件会自动执行：</span></span>
<span class="line"><span>→ 读取当前项目编号</span></span>
<span class="line"><span>→ 通过 Everything 搜索本地附件</span></span>
<span class="line"><span>→ 使用 WASM 引擎解析概要和 UN 报告</span></span>
<span class="line"><span>→ 提取关键数据</span></span>
<span class="line"><span>→ 与检验单数据对比</span></span>
<span class="line"><span>→ 显示验证结果</span></span></code></pre></div></li><li><p><strong>查看验证结果</strong></p></li></ol><h3 id="标签检查" tabindex="-1">标签检查 <a class="header-anchor" href="#标签检查" aria-label="Permalink to &quot;标签检查&quot;">​</a></h3><p><strong>自动标签检查</strong>（需开启）</p><ul><li>验证时自动识别包装图片中的标签</li><li>自动判断标签是否正确</li><li>将标签检测结果图片放到检验单页面</li></ul><p><strong>识别的标签类型</strong></p><ul><li>9类杂项危险性标签</li><li>9A电池危险性标签</li><li>锂电池标签（bty）不能区分UN编号</li><li>仅限货机标签（CAO）</li></ul><h3 id="堆码评估单检查" tabindex="-1">堆码评估单检查 <a class="header-anchor" href="#堆码评估单检查" aria-label="Permalink to &quot;堆码评估单检查&quot;">​</a></h3><p><strong>自动检查</strong>（需开启且评估单在同一文件夹）</p><ul><li>验证时自动检查是否存在堆码评估单</li><li>如果需要堆码测试但缺少评估单，会提示警告</li></ul><h2 id="验证项目" tabindex="-1">验证项目 <a class="header-anchor" href="#验证项目" aria-label="Permalink to &quot;验证项目&quot;">​</a></h2><p>附件验证会检查以下内容：</p><h3 id="概要文档验证" tabindex="-1">概要文档验证 <a class="header-anchor" href="#概要文档验证" aria-label="Permalink to &quot;概要文档验证&quot;">​</a></h3><ul><li>✅ 概要标题</li><li>✅ 概要编号</li><li>✅ 委托方中文</li><li>✅ 制造商中文</li><li>✅ 品名中英文(概要的中英文需要自动换行, 否则会验证失败)</li><li>✅ 电池类型</li><li>✅ 型号</li><li>✅ 电压</li><li>✅ 容量</li><li>✅ 瓦时</li><li>✅ 形状(系统上有的才能验证)</li><li>✅ 颜色(系统上有的才能验证)</li><li>✅ 锂含量</li><li>✅ UN报告编号</li><li>✅ T1-T7</li><li>✅ un38.3(g/f)</li><li>✅ 签发日期</li></ul><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="_1-附件解析失败" tabindex="-1">1. 附件解析失败？ <a class="header-anchor" href="#_1-附件解析失败" aria-label="Permalink to &quot;1. 附件解析失败？&quot;">​</a></h3><p><strong>可能原因和解决方案：</strong></p><ul><li><p>❌ Everything 未运行</p><ul><li>✅ 启动 Everything 并保持运行</li></ul></li><li><p>❌ HTTP 服务未启用</p><ul><li>✅ 检查 Everything 选项中是否启用 HTTP 服务</li></ul></li><li><p>❌ 端口配置错误</p><ul><li>✅ 确认端口为 <code>25456</code></li></ul></li><li><p>❌ 文件路径不在 Everything 索引范围</p><ul><li>✅ 在 Everything 选项中添加文件夹到索引</li></ul></li><li><p>❌ 文件命名不规范</p><ul><li>✅ 确保概要文件名包含项目编号</li><li>✅ 例如：<code>PEKGZ202511115345 概要.docx</code></li></ul></li></ul><h3 id="_2-解析失败或结果为空" tabindex="-1">2. 解析失败或结果为空？ <a class="header-anchor" href="#_2-解析失败或结果为空" aria-label="Permalink to &quot;2. 解析失败或结果为空？&quot;">​</a></h3><p><strong>可能原因：</strong></p><ul><li>概要或 UN 报告格式不标准</li><li>文件损坏或无法打开</li><li>文件内容为图片扫描件（无法提取文字）</li></ul><p><strong>解决方案：</strong></p><ul><li>检查文件能否正常打开</li><li>确认文件内容是可编辑文本（非图片）</li><li>尝试使用标准[概要/图片]模板制作图片概要</li></ul><h3 id="_3-验证结果不准确" tabindex="-1">3. 验证结果不准确？ <a class="header-anchor" href="#_3-验证结果不准确" aria-label="Permalink to &quot;3. 验证结果不准确？&quot;">​</a></h3><p><strong>原因分析：</strong></p><ul><li>概要或图片中存在不可见空白字符</li><li>概要或图片中的空白字符编码不一致</li></ul><p><strong>建议：</strong></p><ul><li>人工复核验证结果</li><li>不要完全依赖自动验证</li><li>发现规律性问题可以反馈给开发者</li></ul><h3 id="_6-wasm-模块加载失败" tabindex="-1">6. WASM 模块加载失败？ <a class="header-anchor" href="#_6-wasm-模块加载失败" aria-label="Permalink to &quot;6. WASM 模块加载失败？&quot;">​</a></h3><p><strong>原因：</strong></p><ul><li>浏览器不支持 WebAssembly</li><li>插件文件损坏</li><li>浏览器安全策略限制</li></ul><p><strong>解决方案：</strong></p><ul><li>更新浏览器到最新版本</li><li>重新安装插件</li><li>检查浏览器控制台错误信息</li></ul><h2 id="隐私和安全" tabindex="-1">隐私和安全 <a class="header-anchor" href="#隐私和安全" aria-label="Permalink to &quot;隐私和安全&quot;">​</a></h2><h3 id="数据处理说明" tabindex="-1">数据处理说明 <a class="header-anchor" href="#数据处理说明" aria-label="Permalink to &quot;数据处理说明&quot;">​</a></h3><ol><li><p><strong>本地处理</strong></p><ul><li>所有文件解析都在本地浏览器中完成</li><li>不会上传附件文件到任何服务器</li></ul></li><li><p><strong>Everything 通信</strong></p><ul><li>仅通过本地 HTTP（127.0.0.1）通信</li><li>不涉及互联网传输</li></ul></li></ol><h2 id="反馈与支持" tabindex="-1">反馈与支持 <a class="header-anchor" href="#反馈与支持" aria-label="Permalink to &quot;反馈与支持&quot;">​</a></h2><p>如遇到问题或有改进建议：</p><ul><li>📝 <a href="./issue.html">提交问题反馈</a></li><li>🤖 <a href="./llm.html">配置大模型验证</a></li><li>📖 <a href="./changelog.html">查看更新日志</a></li><li>📚 <a href="./about.html">查看功能介绍</a></li></ul>`,66)]))}const b=a(e,[["render",r]]);export{d as __pageData,b as default};
